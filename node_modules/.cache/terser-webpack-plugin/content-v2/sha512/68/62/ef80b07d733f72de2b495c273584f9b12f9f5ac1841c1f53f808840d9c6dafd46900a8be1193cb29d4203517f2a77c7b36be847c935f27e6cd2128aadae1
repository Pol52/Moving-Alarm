{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{\"W5v+\":function(n,l,t){\"use strict\";t.r(l);var u=t(\"CcnG\"),e=function(){return function(){}}(),i=t(\"pMnS\"),o=t(\"oBZk\"),s=t(\"ZZ/e\"),r=t(\"Ip0R\"),a=t(\"ZYCi\"),c=t(\"mrSG\"),b=t(\"HNzf\"),h=t(\"f65B\"),d=t(\"zl8V\"),f=function(){function n(n,l,t,u,e,i){this.storage=n,this.loadingCtrl=l,this.position=t,this.alarm=u,this.router=e,this.alertCtrl=i,this.savedDestinations=[]}return n.prototype.ngOnInit=function(){return c.b(this,void 0,void 0,(function(){var n=this;return c.e(this,(function(l){switch(l.label){case 0:return[4,this.presentOpeningLoading()];case 1:return l.sent(),this.storage.getItem(\"savedDestinations\").then((function(l){n.savedDestinations=l,n.dismissLoading()}),(function(l){n.dismissLoading()})),[2]}}))}))},n.prototype.presentOpeningLoading=function(){return c.b(this,void 0,void 0,(function(){var n=this;return c.e(this,(function(l){return[2,new Promise((function(l){return c.b(n,void 0,void 0,(function(){return c.e(this,(function(n){switch(n.label){case 0:return[4,this.loadingCtrl.create({duration:1e4})];case 1:return[4,n.sent().present()];case 2:return n.sent(),l(),[2]}}))}))}))]}))}))},n.prototype.dismissLoading=function(){this.loadingCtrl.dismiss()},n.prototype.showDestinationConfirmationAlert=function(n){return c.b(this,void 0,void 0,(function(){var l=this;return c.e(this,(function(t){switch(t.label){case 0:return[4,this.alertCtrl.create({header:\"Enable Alarm\",message:'<span class=\"alert-message\">Enable the alarm for '+n.extra.featureName+\" ?</span>\",buttons:[{text:\"Cancel\",role:\"cancel\",cssClass:\"secondary\",handler:function(){}},{text:\"Enable\",cssClass:\"accept\",handler:function(){l.enableAlarm(n)}}]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}}))}))},n.prototype.enableAlarm=function(n){return c.b(this,void 0,void 0,(function(){var l=this;return c.e(this,(function(t){switch(t.label){case 0:return[4,this.presentOpeningLoading()];case 1:return t.sent(),this.position.turnOnGPS().then((function(t){t?(l.position.setDestination(n),l.alarm.start(),l.dismissLoading(),l.router.navigate([\"/home\"])):(l.dismissLoading(),l.showNoGPSAlert())})),[2]}}))}))},n.prototype.showNoGPSAlert=function(){return c.b(this,void 0,void 0,(function(){return c.e(this,(function(n){switch(n.label){case 0:return[4,this.alertCtrl.create({header:\"GPS Disabled\",message:'<span class=\"alert-message\">GPS needs to be enabled to set a destination.</span>',buttons:[{text:\"Cancel\",role:\"cancel\",handler:function(){}}]})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}}))}))},n.prototype.deleteRecentDestination=function(n){this.savedDestinations.splice(n,1),this.storage.setItem(\"savedDestinations\",this.savedDestinations)},n}(),p=u.rb({encapsulation:0,styles:[[\".list-header[_ngcontent-%COMP%]{width:100%;text-align:center;color:var(--ion-text-color)}.item-label[_ngcontent-%COMP%]{padding-left:20px}\"]],data:{}});function m(n){return u.Nb(0,[(n()(),u.tb(0,0,null,null,21,\"ion-item-sliding\",[],null,null,null,o.N,o.p)),u.sb(1,49152,null,0,s.L,[u.h,u.k,u.z],null,null),(n()(),u.tb(2,0,null,0,11,\"ion-item\",[[\"button\",\"\"]],null,[[null,\"click\"]],(function(n,l,t){var u=!0;return\"click\"===l&&(u=!1!==n.component.showDestinationConfirmationAlert(n.context.$implicit)&&u),u}),o.O,o.m)),u.sb(3,49152,null,0,s.G,[u.h,u.k,u.z],{button:[0,\"button\"]},null),(n()(),u.tb(4,0,null,0,2,\"ion-avatar\",[],null,null,null,o.A,o.b)),u.sb(5,49152,null,0,s.e,[u.h,u.k,u.z],null,null),(n()(),u.tb(6,0,null,0,0,\"img\",[[\"src\",\"../../assets/images/588891debc2fc2ef3a1860a2.png\"]],null,null,null,null,null)),(n()(),u.tb(7,0,null,0,6,\"ion-label\",[[\"class\",\"item-label\"]],null,null,null,o.P,o.q)),u.sb(8,49152,null,0,s.M,[u.h,u.k,u.z],null,null),(n()(),u.tb(9,0,null,0,2,\"h2\",[],null,null,null,null,null)),(n()(),u.tb(10,0,null,null,1,\"strong\",[],null,null,null,null,null)),(n()(),u.Lb(11,null,[\"\",\"\"])),(n()(),u.tb(12,0,null,0,1,\"h5\",[],null,null,null,null,null)),(n()(),u.Lb(13,null,[\" \",\" \"])),(n()(),u.tb(14,0,null,0,7,\"ion-item-options\",[[\"side\",\"end\"]],null,null,null,o.M,o.o)),u.sb(15,49152,null,0,s.K,[u.h,u.k,u.z],{side:[0,\"side\"]},null),(n()(),u.tb(16,0,null,0,5,\"ion-item-option\",[[\"color\",\"danger\"]],null,[[null,\"click\"]],(function(n,l,t){var u=!0;return\"click\"===l&&(u=!1!==n.component.deleteRecentDestination(n.context.index)&&u),u}),o.L,o.n)),u.sb(17,49152,null,0,s.J,[u.h,u.k,u.z],{color:[0,\"color\"]},null),(n()(),u.tb(18,0,null,0,1,\"ion-icon\",[[\"name\",\"trash\"]],null,null,null,o.J,o.k)),u.sb(19,49152,null,0,s.B,[u.h,u.k,u.z],{name:[0,\"name\"]},null),(n()(),u.tb(20,0,null,0,1,\"span\",[],null,null,null,null,null)),(n()(),u.Lb(-1,null,[\"Delete\"]))],(function(n,l){n(l,3,0,\"\"),n(l,15,0,\"end\"),n(l,17,0,\"danger\"),n(l,19,0,\"trash\")}),(function(n,l){n(l,11,0,l.context.$implicit.extra.featureName),n(l,13,0,l.context.$implicit.subAdminArea)}))}function g(n){return u.Nb(0,[(n()(),u.tb(0,0,null,null,7,\"ion-list\",[],null,null,null,o.R,o.r)),u.sb(1,49152,null,0,s.N,[u.h,u.k,u.z],null,null),(n()(),u.tb(2,0,null,0,3,\"ion-list-header\",[],null,null,null,o.Q,o.s)),u.sb(3,49152,null,0,s.O,[u.h,u.k,u.z],null,null),(n()(),u.tb(4,0,null,0,1,\"h5\",[[\"class\",\"list-header\"]],null,null,null,null,null)),(n()(),u.Lb(-1,null,[\" Recent Destinations \"])),(n()(),u.ib(16777216,null,0,1,null,m)),u.sb(7,278528,null,0,r.i,[u.O,u.L,u.s],{ngForOf:[0,\"ngForOf\"]},null)],(function(n,l){n(l,7,0,l.component.savedDestinations)}),null)}function k(n){return u.Nb(0,[(n()(),u.tb(0,0,null,null,20,\"ion-header\",[],null,null,null,o.I,o.j)),u.sb(1,49152,null,0,s.A,[u.h,u.k,u.z],null,null),(n()(),u.tb(2,0,null,0,18,\"ion-toolbar\",[],null,null,null,o.X,o.y)),u.sb(3,49152,null,0,s.Bb,[u.h,u.k,u.z],null,null),(n()(),u.tb(4,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,o.D,o.e)),u.sb(5,49152,null,0,s.k,[u.h,u.k,u.z],null,null),(n()(),u.tb(6,0,null,0,2,\"ion-back-button\",[],null,[[null,\"click\"]],(function(n,l,t){var e=!0;return\"click\"===l&&(e=!1!==u.Eb(n,8).onClick(t)&&e),e}),o.B,o.c)),u.sb(7,49152,null,0,s.f,[u.h,u.k,u.z],null,null),u.sb(8,16384,null,0,s.g,[[2,s.hb],s.Hb],null,null),(n()(),u.tb(9,0,null,0,2,\"ion-title\",[],null,null,null,o.W,o.x)),u.sb(10,49152,null,0,s.zb,[u.h,u.k,u.z],null,null),(n()(),u.Lb(-1,0,[\"Destinations\"])),(n()(),u.tb(12,0,null,0,8,\"ion-buttons\",[[\"slot\",\"primary\"]],null,null,null,o.D,o.e)),u.sb(13,49152,null,0,s.k,[u.h,u.k,u.z],null,null),(n()(),u.tb(14,0,null,0,6,\"ion-button\",[[\"color\",\"secondary\"],[\"fill\",\"clear\"]],null,[[null,\"click\"]],(function(n,l,t){var e=!0;return\"click\"===l&&(e=!1!==u.Eb(n,16).onClick()&&e),\"click\"===l&&(e=!1!==u.Eb(n,18).onClick(t)&&e),e}),o.C,o.d)),u.sb(15,49152,null,0,s.j,[u.h,u.k,u.z],{color:[0,\"color\"],fill:[1,\"fill\"]},null),u.sb(16,16384,null,0,a.n,[a.m,a.a,[8,null],u.D,u.k],{routerLink:[0,\"routerLink\"]},null),u.Fb(17,1),u.sb(18,737280,null,0,s.Kb,[r.h,s.Hb,u.k,a.m,[2,a.n]],null,null),(n()(),u.tb(19,0,null,0,1,\"ion-icon\",[[\"name\",\"add-circle\"],[\"slot\",\"icon-only\"]],null,null,null,o.J,o.k)),u.sb(20,49152,null,0,s.B,[u.h,u.k,u.z],{name:[0,\"name\"]},null),(n()(),u.tb(21,0,null,null,3,\"ion-content\",[],null,null,null,o.F,o.g)),u.sb(22,49152,null,0,s.t,[u.h,u.k,u.z],null,null),(n()(),u.ib(16777216,null,0,1,null,g)),u.sb(24,16384,null,0,r.j,[u.O,u.L],{ngIf:[0,\"ngIf\"]},null)],(function(n,l){var t=l.component;n(l,15,0,\"secondary\",\"clear\");var u=n(l,17,0,\"/map\");n(l,16,0,u),n(l,18,0),n(l,20,0,\"add-circle\"),n(l,24,0,t.savedDestinations)}),null)}function v(n){return u.Nb(0,[(n()(),u.tb(0,0,null,null,1,\"app-destination-selector\",[],null,null,null,k,p)),u.sb(1,114688,null,0,f,[b.a,s.Fb,h.a,d.a,a.m,s.a],null,null)],(function(n,l){n(l,1,0)}),null)}var C=u.pb(\"app-destination-selector\",f,v,{},{},[]),D=t(\"gIcY\"),z=function(){return function(){}}();t.d(l,\"DestinationSelectorPageModuleNgFactory\",(function(){return L}));var L=u.qb(e,[],(function(n){return u.Bb([u.Cb(512,u.j,u.bb,[[8,[i.a,C]],[3,u.j],u.x]),u.Cb(4608,r.l,r.k,[u.u,[2,r.r]]),u.Cb(4608,D.i,D.i,[]),u.Cb(4608,s.b,s.b,[u.z,u.g]),u.Cb(4608,s.Gb,s.Gb,[s.b,u.j,u.q]),u.Cb(4608,s.Jb,s.Jb,[s.b,u.j,u.q]),u.Cb(1073742336,r.b,r.b,[]),u.Cb(1073742336,D.h,D.h,[]),u.Cb(1073742336,D.c,D.c,[]),u.Cb(1073742336,s.Db,s.Db,[]),u.Cb(1073742336,a.o,a.o,[[2,a.t],[2,a.m]]),u.Cb(1073742336,z,z,[]),u.Cb(1073742336,e,e,[]),u.Cb(1024,a.k,(function(){return[[{path:\"\",component:f}]]}),[])])}))}}]);","extractedComments":[]}