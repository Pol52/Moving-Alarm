(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"W5v+":function(l,n,t){"use strict";t.r(n);var u=t("8Y7J");class e{}var i=t("pMnS"),o=t("oBZk"),s=t("ZZ/e"),r=t("SVse"),a=t("iInd"),b=t("mrSG"),c=t("HNzf"),d=t("f65B"),h=t("zl8V");class m{constructor(l,n,t,u,e,i){this.storage=l,this.loadingCtrl=n,this.position=t,this.alarm=u,this.router=e,this.alertCtrl=i,this.savedDestinations=[]}ngOnInit(){return b.b(this,void 0,void 0,(function*(){yield this.presentOpeningLoading(),this.storage.getItem("savedDestinations").then(l=>{this.savedDestinations=l,this.dismissLoading()},l=>{this.dismissLoading()})}))}presentOpeningLoading(){return b.b(this,void 0,void 0,(function*(){return new Promise(l=>b.b(this,void 0,void 0,(function*(){const n=yield this.loadingCtrl.create({duration:1e4});yield n.present(),l()})))}))}dismissLoading(){this.loadingCtrl.dismiss()}showDestinationConfirmationAlert(l){return b.b(this,void 0,void 0,(function*(){const n=yield this.alertCtrl.create({header:"Enable Alarm",message:'<span class="alert-message">Enable the alarm for '+l.extra.featureName+" ?</span>",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Enable",cssClass:"accept",handler:()=>{this.enableAlarm(l)}}]});yield n.present()}))}enableAlarm(l){return b.b(this,void 0,void 0,(function*(){yield this.presentOpeningLoading(),this.position.turnOnGPS().then(n=>{n?(this.position.setDestination(l),this.alarm.start(),this.dismissLoading(),this.router.navigate(["/home"])):(this.dismissLoading(),this.showNoGPSAlert())})}))}showNoGPSAlert(){return b.b(this,void 0,void 0,(function*(){const l=yield this.alertCtrl.create({header:"GPS Disabled",message:'<span class="alert-message">GPS needs to be enabled to set a destination.</span>',buttons:[{text:"Cancel",role:"cancel",handler:()=>{}}]});yield l.present()}))}deleteRecentDestination(l){this.savedDestinations.splice(l,1),this.storage.setItem("savedDestinations",this.savedDestinations)}}var p=u.pb({encapsulation:0,styles:[[".list-header[_ngcontent-%COMP%]{width:100%;text-align:center;color:var(--ion-text-color)}.item-label[_ngcontent-%COMP%]{padding-left:20px}"]],data:{}});function g(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,21,"ion-item-sliding",[],null,null,null,o.N,o.p)),u.qb(1,49152,null,0,s.L,[u.h,u.k,u.x],null,null),(l()(),u.rb(2,0,null,0,11,"ion-item",[["button",""]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.showDestinationConfirmationAlert(l.context.$implicit)&&u),u}),o.O,o.m)),u.qb(3,49152,null,0,s.G,[u.h,u.k,u.x],{button:[0,"button"]},null),(l()(),u.rb(4,0,null,0,2,"ion-avatar",[],null,null,null,o.A,o.b)),u.qb(5,49152,null,0,s.e,[u.h,u.k,u.x],null,null),(l()(),u.rb(6,0,null,0,0,"img",[["src","../../assets/images/588891debc2fc2ef3a1860a2.png"]],null,null,null,null,null)),(l()(),u.rb(7,0,null,0,6,"ion-label",[["class","item-label"]],null,null,null,o.P,o.q)),u.qb(8,49152,null,0,s.M,[u.h,u.k,u.x],null,null),(l()(),u.rb(9,0,null,0,2,"h2",[],null,null,null,null,null)),(l()(),u.rb(10,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Jb(11,null,["",""])),(l()(),u.rb(12,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),u.Jb(13,null,[" "," "])),(l()(),u.rb(14,0,null,0,7,"ion-item-options",[["side","end"]],null,null,null,o.M,o.o)),u.qb(15,49152,null,0,s.K,[u.h,u.k,u.x],{side:[0,"side"]},null),(l()(),u.rb(16,0,null,0,5,"ion-item-option",[["color","danger"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.deleteRecentDestination(l.context.index)&&u),u}),o.L,o.n)),u.qb(17,49152,null,0,s.J,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.rb(18,0,null,0,1,"ion-icon",[["name","trash"]],null,null,null,o.J,o.k)),u.qb(19,49152,null,0,s.B,[u.h,u.k,u.x],{name:[0,"name"]},null),(l()(),u.rb(20,0,null,0,1,"span",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,["Delete"]))],(function(l,n){l(n,3,0,""),l(n,15,0,"end"),l(n,17,0,"danger"),l(n,19,0,"trash")}),(function(l,n){l(n,11,0,n.context.$implicit.extra.featureName),l(n,13,0,n.context.$implicit.subAdminArea)}))}function k(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,7,"ion-list",[],null,null,null,o.R,o.r)),u.qb(1,49152,null,0,s.N,[u.h,u.k,u.x],null,null),(l()(),u.rb(2,0,null,0,3,"ion-list-header",[],null,null,null,o.Q,o.s)),u.qb(3,49152,null,0,s.O,[u.h,u.k,u.x],null,null),(l()(),u.rb(4,0,null,0,1,"h5",[["class","list-header"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,[" Recent Destinations "])),(l()(),u.gb(16777216,null,0,1,null,g)),u.qb(7,278528,null,0,r.i,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,7,0,n.component.savedDestinations)}),null)}function f(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,20,"ion-header",[],null,null,null,o.I,o.j)),u.qb(1,49152,null,0,s.A,[u.h,u.k,u.x],null,null),(l()(),u.rb(2,0,null,0,18,"ion-toolbar",[],null,null,null,o.X,o.y)),u.qb(3,49152,null,0,s.Bb,[u.h,u.k,u.x],null,null),(l()(),u.rb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,o.D,o.e)),u.qb(5,49152,null,0,s.k,[u.h,u.k,u.x],null,null),(l()(),u.rb(6,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Cb(l,8).onClick(t)&&e),e}),o.B,o.c)),u.qb(7,49152,null,0,s.f,[u.h,u.k,u.x],null,null),u.qb(8,16384,null,0,s.g,[[2,s.hb],s.Hb],null,null),(l()(),u.rb(9,0,null,0,2,"ion-title",[],null,null,null,o.W,o.x)),u.qb(10,49152,null,0,s.zb,[u.h,u.k,u.x],null,null),(l()(),u.Jb(-1,0,["Destinations"])),(l()(),u.rb(12,0,null,0,8,"ion-buttons",[["slot","primary"]],null,null,null,o.D,o.e)),u.qb(13,49152,null,0,s.k,[u.h,u.k,u.x],null,null),(l()(),u.rb(14,0,null,0,6,"ion-button",[["color","secondary"],["fill","clear"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Cb(l,16).onClick()&&e),"click"===n&&(e=!1!==u.Cb(l,18).onClick(t)&&e),e}),o.C,o.d)),u.qb(15,49152,null,0,s.j,[u.h,u.k,u.x],{color:[0,"color"],fill:[1,"fill"]},null),u.qb(16,16384,null,0,a.n,[a.m,a.a,[8,null],u.B,u.k],{routerLink:[0,"routerLink"]},null),u.Db(17,1),u.qb(18,737280,null,0,s.Kb,[r.h,s.Hb,u.k,a.m,[2,a.n]],null,null),(l()(),u.rb(19,0,null,0,1,"ion-icon",[["name","add-circle"],["slot","icon-only"]],null,null,null,o.J,o.k)),u.qb(20,49152,null,0,s.B,[u.h,u.k,u.x],{name:[0,"name"]},null),(l()(),u.rb(21,0,null,null,3,"ion-content",[],null,null,null,o.F,o.g)),u.qb(22,49152,null,0,s.t,[u.h,u.k,u.x],null,null),(l()(),u.gb(16777216,null,0,1,null,k)),u.qb(24,16384,null,0,r.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,15,0,"secondary","clear");var u=l(n,17,0,"/map");l(n,16,0,u),l(n,18,0),l(n,20,0,"add-circle"),l(n,24,0,t.savedDestinations)}),null)}function v(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,1,"app-destination-selector",[],null,null,null,f,p)),u.qb(1,114688,null,0,m,[c.a,s.Fb,d.a,h.a,a.m,s.a],null,null)],(function(l,n){l(n,1,0)}),null)}var x=u.nb("app-destination-selector",m,v,{},{},[]),q=t("s7LF");class A{}t.d(n,"DestinationSelectorPageModuleNgFactory",(function(){return D}));var D=u.ob(e,[],(function(l){return u.zb([u.Ab(512,u.j,u.Z,[[8,[i.a,x]],[3,u.j],u.v]),u.Ab(4608,r.l,r.k,[u.s,[2,r.r]]),u.Ab(4608,q.i,q.i,[]),u.Ab(4608,s.b,s.b,[u.x,u.g]),u.Ab(4608,s.Gb,s.Gb,[s.b,u.j,u.p]),u.Ab(4608,s.Jb,s.Jb,[s.b,u.j,u.p]),u.Ab(1073742336,r.b,r.b,[]),u.Ab(1073742336,q.h,q.h,[]),u.Ab(1073742336,q.c,q.c,[]),u.Ab(1073742336,s.Db,s.Db,[]),u.Ab(1073742336,a.o,a.o,[[2,a.t],[2,a.m]]),u.Ab(1073742336,A,A,[]),u.Ab(1073742336,e,e,[]),u.Ab(1024,a.k,(function(){return[[{path:"",component:m}]]}),[])])}))}}]);